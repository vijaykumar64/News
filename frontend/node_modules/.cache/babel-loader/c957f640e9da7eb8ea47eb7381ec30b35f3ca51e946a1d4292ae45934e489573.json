{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\K Vijay Kumar\\\\Documents\\\\Full Stack\\\\react\\\\fetch\\\\src\\\\News\\\\News.js\";\nimport React, { Component } from 'react';\nimport NewsItems from './NewsItems';\nimport { Loading } from './Loading';\nimport PropTypes from 'prop-types';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport class News extends Component {\n  constructor(props) {\n    super(props); // Pass props to the parent constructor\n    this.fetchArticles = async () => {\n      const pageSize = 12;\n      this.props.setProgress(10); // Correctly reference setProgress here\n      const url = `https://newsapi.org/v2/top-headlines?country=${this.props.country}&category=${this.props.category}&apiKey=73a1cba2fe7e46a984f7b0ecb0d397e5&page=${this.state.page}&pageSize=${pageSize}`;\n      this.setState({\n        loading: true\n      });\n      this.props.setProgress(30);\n      let data = await fetch(url);\n      this.props.setProgress(50);\n      let parsedata = await data.json();\n      this.props.setProgress(70);\n      this.setState({\n        articles: parsedata.articles,\n        totalresults: parsedata.totalResults,\n        loading: false\n      });\n      this.props.setProgress(100);\n    };\n    this.prevpg = async () => {\n      this.setState(prevState => ({\n        page: prevState.page - 1,\n        loading: true\n      }), () => {\n        this.fetchArticles();\n      });\n    };\n    this.nxtpg = async () => {\n      if (this.state.page < Math.ceil(this.state.totalresults / 12)) {\n        this.setState(prevState => ({\n          page: prevState.page + 1,\n          loading: true\n        }), () => {\n          this.fetchArticles();\n        });\n      }\n    };\n    this.state = {\n      articles: [],\n      page: 1,\n      totalresults: 0,\n      loading: false\n    };\n  }\n  async componentDidMount() {\n    this.fetchArticles();\n  }\n  render() {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"container my-3 bg-dark\",\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          children: this.props.category.toUpperCase()\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 82,\n          columnNumber: 11\n        }, this), this.state.loading && /*#__PURE__*/_jsxDEV(Loading, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 83,\n          columnNumber: 34\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"container\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"row\",\n            children: !this.state.loading && this.state.articles.map(element => {\n              if (element.author !== 'null') return /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"col-md-4\",\n                children: /*#__PURE__*/_jsxDEV(NewsItems, {\n                  title: element.title ? element.title.slice(0, 50) : ' ',\n                  description: element.description ? element.description.slice(0, 45) : ' ',\n                  imgUrl: element.urlToImage ? element.urlToImage : 'error.jpg',\n                  url: element.url\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 91,\n                  columnNumber: 25\n                }, this)\n              }, element.url, false, {\n                fileName: _jsxFileName,\n                lineNumber: 90,\n                columnNumber: 23\n              }, this);\n            })\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 85,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 84,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"container d-flex justify-content-between\",\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            type: \"button\",\n            disabled: this.state.page <= 1,\n            onClick: this.prevpg,\n            className: \"btn btn-dark\",\n            children: \"\\u2190 Previous\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 105,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            type: \"button\",\n            disabled: this.state.page >= Math.ceil(this.state.totalresults / 12),\n            onClick: this.nxtpg,\n            className: \"btn btn-dark\",\n            children: \"Next \\u2192\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 113,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 104,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 81,\n        columnNumber: 7\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 7\n    }, this);\n  }\n}\nNews.defaultProps = {\n  country: 'us',\n  pageSize: 12,\n  category: 'general'\n};\nNews.propTypes = {\n  country: PropTypes.string,\n  pageSize: PropTypes.number,\n  category: PropTypes.string\n};\nexport default News;","map":{"version":3,"names":["React","Component","NewsItems","Loading","PropTypes","jsxDEV","_jsxDEV","News","constructor","props","fetchArticles","pageSize","setProgress","url","country","category","state","page","setState","loading","data","fetch","parsedata","json","articles","totalresults","totalResults","prevpg","prevState","nxtpg","Math","ceil","componentDidMount","render","children","className","toUpperCase","fileName","_jsxFileName","lineNumber","columnNumber","map","element","author","title","slice","description","imgUrl","urlToImage","type","disabled","onClick","defaultProps","propTypes","string","number"],"sources":["C:/Users/K Vijay Kumar/Documents/Full Stack/react/fetch/src/News/News.js"],"sourcesContent":["import React, { Component } from 'react';\r\nimport NewsItems from './NewsItems';\r\nimport { Loading } from './Loading';\r\nimport PropTypes from 'prop-types';\r\n\r\nexport class News extends Component {\r\n  static defaultProps = {\r\n    country: 'us',\r\n    pageSize: 12,\r\n    category: 'general',\r\n  };\r\n\r\n  static propTypes = {\r\n    country: PropTypes.string,\r\n    pageSize: PropTypes.number,\r\n    category: PropTypes.string,\r\n  };\r\n\r\n  constructor(props) {\r\n    super(props); // Pass props to the parent constructor\r\n    this.state = {\r\n      articles: [],\r\n      page: 1,\r\n      totalresults: 0,\r\n      loading: false,\r\n    };\r\n  }\r\n\r\n  async componentDidMount() {\r\n    this.fetchArticles();\r\n  }\r\n\r\n  fetchArticles = async () => {\r\n    const pageSize = 12;\r\n    this.props.setProgress(10); // Correctly reference setProgress here\r\n    const url = `https://newsapi.org/v2/top-headlines?country=${this.props.country}&category=${this.props.category}&apiKey=73a1cba2fe7e46a984f7b0ecb0d397e5&page=${this.state.page}&pageSize=${pageSize}`;\r\n    this.setState({ loading: true });\r\n    this.props.setProgress(30);\r\n    let data = await fetch(url);\r\n    this.props.setProgress(50);\r\n    let parsedata = await data.json();\r\n    this.props.setProgress(70);\r\n\r\n    this.setState({\r\n      articles: parsedata.articles,\r\n      totalresults: parsedata.totalResults,\r\n      loading: false,\r\n    });\r\n    this.props.setProgress(100);\r\n  };\r\n\r\n  prevpg = async () => {\r\n    this.setState(\r\n      (prevState) => ({\r\n        page: prevState.page - 1,\r\n        loading: true,\r\n      }),\r\n      () => {\r\n        this.fetchArticles();\r\n      }\r\n    );\r\n  };\r\n\r\n  nxtpg = async () => {\r\n    if (this.state.page < Math.ceil(this.state.totalresults / 12)) {\r\n      this.setState(\r\n        (prevState) => ({\r\n          page: prevState.page + 1,\r\n          loading: true,\r\n        }),\r\n        () => {\r\n          this.fetchArticles();\r\n        }\r\n      );\r\n    }\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <div>\r\n      <div className='container my-3 bg-dark'>\r\n          <h2>{this.props.category.toUpperCase()}</h2>\r\n          {this.state.loading && <Loading />}\r\n          <div className='container'>\r\n            <div className='row'>\r\n              {!this.state.loading &&\r\n                this.state.articles.map((element) => {\r\n                  if (element.author !== 'null')\r\n                    return (\r\n                      <div className='col-md-4' key={element.url}>\r\n                        <NewsItems\r\n                          title={element.title ? element.title.slice(0, 50) : ' '}\r\n                          description={\r\n                            element.description ? element.description.slice(0, 45) : ' '\r\n                          }\r\n                          imgUrl={element.urlToImage ? element.urlToImage : 'error.jpg'}\r\n                          url={element.url}\r\n                        />\r\n                      </div>\r\n                    );\r\n                })}\r\n            </div>\r\n          </div>\r\n          <div className='container d-flex justify-content-between'>\r\n            <button\r\n              type='button'\r\n              disabled={this.state.page <= 1}\r\n              onClick={this.prevpg}\r\n              className='btn btn-dark'\r\n            >\r\n              &larr; Previous\r\n            </button>\r\n            <button\r\n              type='button'\r\n              disabled={this.state.page >= Math.ceil(this.state.totalresults / 12)}\r\n              onClick={this.nxtpg}\r\n              className='btn btn-dark'\r\n            >\r\n              Next &rarr;\r\n            </button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default News;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}