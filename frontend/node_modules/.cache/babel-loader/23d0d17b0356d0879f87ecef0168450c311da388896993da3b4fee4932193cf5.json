{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\K Vijay Kumar\\\\Documents\\\\Project\\\\fetch\\\\frontend\\\\src\\\\News\\\\News.jsx\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport NewsItems from './NewsItems';\nimport { Loading } from './Loading';\nimport PropTypes from 'prop-types';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst News = ({\n  country = 'us',\n  pageSize = 12,\n  category = 'general',\n  setProgress\n}) => {\n  _s();\n  const [articles, setArticles] = useState([]);\n  const [page, setPage] = useState(1);\n  const [totalResults, setTotalResults] = useState(0);\n  const [loading, setLoading] = useState(false);\n  const fetchArticles = async () => {\n    setProgress(10);\n    const url = `http://localhost:5000/api/news?page=${page}&category=${category}&pageSize=${pageSize}`;\n    setLoading(true);\n    setProgress(30);\n    try {\n      let data = await fetch(url);\n      setProgress(50);\n      let parsedData = await data.json();\n      setProgress(70);\n      setArticles(parsedData.articles);\n      setTotalResults(parsedData.totalResults);\n      setLoading(false);\n      setProgress(100);\n    } catch (error) {\n      console.error(\"Error fetching news:\", error);\n      setLoading(false);\n      setProgress(100);\n    }\n  };\n  useEffect(() => {\n    fetchArticles();\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [page, category]); // refetch when page or category changes\n\n  const handlePrevClick = () => {\n    if (page > 1) {\n      setPage(page - 1);\n    }\n  };\n  const handleNextClick = () => {\n    if (page < Math.ceil(totalResults / pageSize)) {\n      setPage(page + 1);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"container my-3\",\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        children: category.toUpperCase()\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 55,\n        columnNumber: 9\n      }, this), loading && /*#__PURE__*/_jsxDEV(Loading, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 56,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"container\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"row\",\n          children: !loading && articles.map(element => {\n            if (element.author !== 'null') {\n              return /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"col-md-4\",\n                children: /*#__PURE__*/_jsxDEV(NewsItems, {\n                  title: element.title ? element.title.slice(0, 50) : ' ',\n                  description: element.description ? element.description.slice(0, 45) : ' ',\n                  imgUrl: element.urlToImage ? element.urlToImage : 'error.jpg',\n                  url: element.url\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 64,\n                  columnNumber: 23\n                }, this)\n              }, element.url, false, {\n                fileName: _jsxFileName,\n                lineNumber: 63,\n                columnNumber: 21\n              }, this);\n            }\n            return null; // to avoid undefined return\n          })\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 58,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 57,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"container d-flex justify-content-between\",\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"button\",\n          disabled: page <= 1,\n          onClick: handlePrevClick,\n          className: \"btn btn-dark\",\n          children: \"\\u2190 Previous\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 78,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"button\",\n          disabled: page >= Math.ceil(totalResults / pageSize),\n          onClick: handleNextClick,\n          className: \"btn btn-dark\",\n          children: \"Next \\u2192\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 86,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 53,\n    columnNumber: 5\n  }, this);\n};\n_s(News, \"KBwD7KqjSTD3JN2sSMBnR1zWrC8=\");\n_c = News;\nNews.propTypes = {\n  country: PropTypes.string,\n  pageSize: PropTypes.number,\n  category: PropTypes.string,\n  setProgress: PropTypes.func.isRequired\n};\nexport default News;\nvar _c;\n$RefreshReg$(_c, \"News\");","map":{"version":3,"names":["React","useState","useEffect","NewsItems","Loading","PropTypes","jsxDEV","_jsxDEV","News","country","pageSize","category","setProgress","_s","articles","setArticles","page","setPage","totalResults","setTotalResults","loading","setLoading","fetchArticles","url","data","fetch","parsedData","json","error","console","handlePrevClick","handleNextClick","Math","ceil","children","className","toUpperCase","fileName","_jsxFileName","lineNumber","columnNumber","map","element","author","title","slice","description","imgUrl","urlToImage","type","disabled","onClick","_c","propTypes","string","number","func","isRequired","$RefreshReg$"],"sources":["C:/Users/K Vijay Kumar/Documents/Project/fetch/frontend/src/News/News.jsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport NewsItems from './NewsItems';\r\nimport { Loading } from './Loading';\r\nimport PropTypes from 'prop-types';\r\n\r\nconst News = ({ country = 'us', pageSize = 12, category = 'general', setProgress }) => {\r\n  const [articles, setArticles] = useState([]);\r\n  const [page, setPage] = useState(1);\r\n  const [totalResults, setTotalResults] = useState(0);\r\n  const [loading, setLoading] = useState(false);\r\n\r\n  const fetchArticles = async () => {\r\n    setProgress(10);\r\n    const url = `http://localhost:5000/api/news?page=${page}&category=${category}&pageSize=${pageSize}`;\r\n    setLoading(true);\r\n    setProgress(30);\r\n\r\n    try {\r\n      let data = await fetch(url);\r\n      setProgress(50);\r\n      let parsedData = await data.json();\r\n      setProgress(70);\r\n\r\n      setArticles(parsedData.articles);\r\n      setTotalResults(parsedData.totalResults);\r\n      setLoading(false);\r\n      setProgress(100);\r\n    } catch (error) {\r\n      console.error(\"Error fetching news:\", error);\r\n      setLoading(false);\r\n      setProgress(100);\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    fetchArticles();\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, [page, category]); // refetch when page or category changes\r\n\r\n  const handlePrevClick = () => {\r\n    if (page > 1) {\r\n      setPage(page - 1);\r\n    }\r\n  };\r\n\r\n  const handleNextClick = () => {\r\n    if (page < Math.ceil(totalResults / pageSize)) {\r\n      setPage(page + 1);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <div className=\"container my-3\">\r\n        <h2>{category.toUpperCase()}</h2>\r\n        {loading && <Loading />}\r\n        <div className=\"container\">\r\n          <div className=\"row\">\r\n            {!loading &&\r\n              articles.map((element) => {\r\n                if (element.author !== 'null') {\r\n                  return (\r\n                    <div className=\"col-md-4\" key={element.url}>\r\n                      <NewsItems\r\n                        title={element.title ? element.title.slice(0, 50) : ' '}\r\n                        description={element.description ? element.description.slice(0, 45) : ' '}\r\n                        imgUrl={element.urlToImage ? element.urlToImage : 'error.jpg'}\r\n                        url={element.url}\r\n                      />\r\n                    </div>\r\n                  );\r\n                }\r\n                return null; // to avoid undefined return\r\n              })}\r\n          </div>\r\n        </div>\r\n        <div className=\"container d-flex justify-content-between\">\r\n          <button\r\n            type=\"button\"\r\n            disabled={page <= 1}\r\n            onClick={handlePrevClick}\r\n            className=\"btn btn-dark\"\r\n          >\r\n            &larr; Previous\r\n          </button>\r\n          <button\r\n            type=\"button\"\r\n            disabled={page >= Math.ceil(totalResults / pageSize)}\r\n            onClick={handleNextClick}\r\n            className=\"btn btn-dark\"\r\n          >\r\n            Next &rarr;\r\n          </button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nNews.propTypes = {\r\n  country: PropTypes.string,\r\n  pageSize: PropTypes.number,\r\n  category: PropTypes.string,\r\n  setProgress: PropTypes.func.isRequired,\r\n};\r\n\r\nexport default News;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}